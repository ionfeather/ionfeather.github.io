<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†LangChain\rÊàëÂ∏åÊúõËÉΩÂ§üÊûÑÂª∫‰∏Ä‰∏™ËÉΩÈòÖËØªPDFËÆ∫ÊñáÁöÑAgentÔºåÂπ∂‰∏îËÉΩÂ§üËæìÂá∫ÂØπËÆ∫Êñá‰ºòÁº∫ÁÇπÁöÑËØÑ‰ª∑„ÄÇ\nÂØºÂ∏à&nbsp;&nbsp;&nbsp;2024-10-12 14:30\rÂÅö‰∏Ä‰∏™ËÆ∫ÊñáÈòÖËØªÁöÑÂ§ßÊ®°Âûã„ÄÇ 2024-10-12 14:45&nbsp;&nbsp;&nbsp;Êàë\rÂ•ΩÁöÑËÄÅÂ∏à„ÄÇ ‰ΩøÁî®LangChainÂê¨ËØ¥ÊØîËæÉÊñπ‰æø„ÄÇ\n">
<title>Â≠¶‰π†Á¨îËÆ∞ | LangChainÂ≠¶‰π†Á¨îËÆ∞</title>

<link rel='canonical' href='https://ionfeather.github.io/2024/langchain-learning/'>

<link rel="stylesheet" href="/scss/style.min.cdd95828ca8971b17ccb14112222a60d19d84ea3f4e5b525c8c68fb4d2a4535d.css"><meta property='og:title' content="Â≠¶‰π†Á¨îËÆ∞ | LangChainÂ≠¶‰π†Á¨îËÆ∞">
<meta property='og:description' content="‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†LangChain\rÊàëÂ∏åÊúõËÉΩÂ§üÊûÑÂª∫‰∏Ä‰∏™ËÉΩÈòÖËØªPDFËÆ∫ÊñáÁöÑAgentÔºåÂπ∂‰∏îËÉΩÂ§üËæìÂá∫ÂØπËÆ∫Êñá‰ºòÁº∫ÁÇπÁöÑËØÑ‰ª∑„ÄÇ\nÂØºÂ∏à&nbsp;&nbsp;&nbsp;2024-10-12 14:30\rÂÅö‰∏Ä‰∏™ËÆ∫ÊñáÈòÖËØªÁöÑÂ§ßÊ®°Âûã„ÄÇ 2024-10-12 14:45&nbsp;&nbsp;&nbsp;Êàë\rÂ•ΩÁöÑËÄÅÂ∏à„ÄÇ ‰ΩøÁî®LangChainÂê¨ËØ¥ÊØîËæÉÊñπ‰æø„ÄÇ\n">
<meta property='og:url' content='https://ionfeather.github.io/2024/langchain-learning/'>
<meta property='og:site_name' content='ionfeather&#39;Log'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='LangChain' /><meta property='article:tag' content='LLM' /><meta property='article:published_time' content='2024-11-26T13:45:58&#43;08:00'/><meta property='article:modified_time' content='2024-11-26T13:45:58&#43;08:00'/><meta property='og:image' content='https://ionfeather.github.io/2024/langchain-learning/cover.png' />
<meta name="twitter:title" content="Â≠¶‰π†Á¨îËÆ∞ | LangChainÂ≠¶‰π†Á¨îËÆ∞">
<meta name="twitter:description" content="‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†LangChain\rÊàëÂ∏åÊúõËÉΩÂ§üÊûÑÂª∫‰∏Ä‰∏™ËÉΩÈòÖËØªPDFËÆ∫ÊñáÁöÑAgentÔºåÂπ∂‰∏îËÉΩÂ§üËæìÂá∫ÂØπËÆ∫Êñá‰ºòÁº∫ÁÇπÁöÑËØÑ‰ª∑„ÄÇ\nÂØºÂ∏à&nbsp;&nbsp;&nbsp;2024-10-12 14:30\rÂÅö‰∏Ä‰∏™ËÆ∫ÊñáÈòÖËØªÁöÑÂ§ßÊ®°Âûã„ÄÇ 2024-10-12 14:45&nbsp;&nbsp;&nbsp;Êàë\rÂ•ΩÁöÑËÄÅÂ∏à„ÄÇ ‰ΩøÁî®LangChainÂê¨ËØ¥ÊØîËæÉÊñπ‰æø„ÄÇ\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://ionfeather.github.io/2024/langchain-learning/cover.png' />
    <link rel="shortcut icon" href="/ion.ico" />

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap"
    onload="this.media='all'" onError="this.media='none'">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@callmebill/lxgw-wenkai-web@latest/style.css"
    onload="this.media='all'" onError="this.media='none'">

  <style>
     
    :root {
      --sys-font-family: 'LXGW WenKai', 'Noto Serif SC', serif;
      --zh-font-family: 'LXGW WenKai', 'Noto Serif SC', serif;
      --base-font-family: 'LXGW WenKai', 'Noto Serif SC', serif;
      --code-font-family: 'Consolas', monospace; 
      --article-font-family: 'Noto Serif SC', serif; 
      --heading-font-family: 'LXGW WenKai', serif; 
    }

     
    body {
      font-family: var(--base-font-family);
      font-weight: normal;
    }
  </style>
</head>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_7d702df343b40e37.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üå≥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ionfeather&#39;Log</a></h1>
            <h2 class="site-description">ÂçÅÂπ¥È•ÆÂÜ∞ÔºåÈöæÂáâÁÉ≠Ë°Ä</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/ionfeather'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg t="1732597946058" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3746" width="24" height="24"><path d="M850.346667 155.008a42.666667 42.666667 0 0 0-22.741334-23.509333c-8.704-3.754667-85.717333-33.322667-200.32 39.168H396.714667c-114.773333-72.618667-191.701333-42.922667-200.32-39.168a42.88 42.88 0 0 0-22.741334 23.466666c-26.197333 66.218667-18.048 136.448-7.850666 176.896C134.272 374.016 128 413.098667 128 469.333333c0 177.877333 127.104 227.882667 226.730667 246.272a189.568 189.568 0 0 0-13.013334 46.549334A44.373333 44.373333 0 0 0 341.333333 768v38.613333c-19.498667-4.138667-41.002667-11.946667-55.168-26.112C238.08 732.416 188.330667 682.666667 128 682.666667v85.333333c25.002667 0 65.365333 40.362667 97.834667 72.832 51.029333 51.029333 129.066667 55.253333 153.386666 55.253333 3.114667 0 5.376-0.085333 6.528-0.128A42.666667 42.666667 0 0 0 426.666667 853.333333v-82.090666c4.266667-24.746667 20.224-49.621333 27.946666-56.362667a42.666667 42.666667 0 0 0-23.125333-74.581333C293.333333 624.554667 213.333333 591.488 213.333333 469.333333c0-53.12 5.632-70.741333 31.573334-99.285333 11.008-12.117333 14.08-29.568 7.978666-44.8-4.821333-11.904-18.773333-65.450667-6.485333-117.546667 20.650667-1.578667 59.904 4.565333 113.706667 40.96C367.104 253.44 375.466667 256 384 256h256a42.666667 42.666667 0 0 0 23.936-7.338667c54.016-36.522667 92.970667-41.770667 113.664-41.130666 12.330667 52.224-1.578667 105.770667-6.4 117.674666a42.666667 42.666667 0 0 0 8.021333 44.928C805.077333 398.464 810.666667 416.085333 810.666667 469.333333c0 122.581333-79.957333 155.52-218.069334 170.922667a42.666667 42.666667 0 0 0-23.125333 74.709333c19.797333 17.066667 27.861333 32.469333 27.861333 53.034667v128h85.333334v-128c0-20.437333-3.925333-38.101333-9.770667-53.12C769.92 695.765333 896 643.712 896 469.333333c0-56.362667-6.272-95.530667-37.76-137.514666 10.197333-40.405333 18.261333-110.506667-7.893333-176.810667z" fill="currentColor" p-id="3747"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:lizishadowmay@gmail.com'
                        target="_blank"
                        title="Email"
                        rel="me"
                    >
                        
                        
                            <svg t="1732597869588" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23464" width="24" height="24"><path d="M926.47619 355.644952V780.190476a73.142857 73.142857 0 0 1-73.142857 73.142857H170.666667a73.142857 73.142857 0 0 1-73.142857-73.142857V355.644952l73.142857 62.000762V780.190476h682.666666V417.645714l73.142857-62.000762zM853.333333 170.666667a74.044952 74.044952 0 0 1 26.087619 4.778666 72.704 72.704 0 0 1 30.622477 22.186667 73.508571 73.508571 0 0 1 10.678857 17.67619c3.169524 7.509333 5.12 15.652571 5.607619 24.210286L926.47619 243.809524v24.380952L559.469714 581.241905a73.142857 73.142857 0 0 1-91.306666 2.901333l-3.632762-2.925714L97.52381 268.190476v-24.380952a72.899048 72.899048 0 0 1 40.155428-65.292191A72.97219 72.97219 0 0 1 170.666667 170.666667h682.666666z m-10.971428 73.142857H181.638095L512 525.58019 842.361905 243.809524z" p-id="23465" fill="currentColor"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='index.xml'
                        target="_blank"
                        title="RSS"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200">
  <path 
    d="M170.666667 426.666667c-25.6 0-42.666667 17.066667-42.666667 42.666666s17.066667 42.666667 42.666667 42.666667c187.733333 0 341.333333 153.6 341.333333 341.333333 0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667c0-234.666667-192-426.666667-426.666666-426.666666z"
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
  ></path>
  <path 
    d="M170.666667 128c-25.6 0-42.666667 17.066667-42.666667 42.666667s17.066667 42.666667 42.666667 42.666666c354.133333 0 640 285.866667 640 640 0 25.6 17.066667 42.666667 42.666666 42.666667s42.666667-17.066667 42.666667-42.666667c0-401.066667-324.266667-725.333333-725.333333-725.333333z"
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
  ></path>
  <path 
    d="M213.333333 810.666667m-85.333333 0a85.333333 85.333333 0 1 0 170.666667 0 85.333333 85.333333 0 1 0-170.666667 0Z"
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
  ></path>
</svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E9%93%BE/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÂèãÈìæ</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            

                
                    <span id="dark-mode-toggle">
                        <svg  xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left"   width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-sun-high"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg>
                        <svg  xmlns="http://www.w3.org/2000/svg"  class="icon icon-tabler icon-tabler-toggle-right"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-moon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" /></svg>
                    </span>
                
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†langchain">‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†LangChain</a></li>
    <li><a href="#langchainÊòØÁî®Êù•ÂÅö‰ªÄ‰πàÁöÑ">LangChainÊòØÁî®Êù•ÂÅö‰ªÄ‰πàÁöÑÔºü</a></li>
    <li><a href="#ÊûÑÈÄ†‰∏Ä‰∏™ËØ≠‰πâÊêúÁ¥¢ÂºïÊìé">ÊûÑÈÄ†‰∏Ä‰∏™ËØ≠‰πâÊêúÁ¥¢ÂºïÊìé</a>
      <ol>
        <li><a href="#ËØªÂèñpdf">ËØªÂèñPDF</a></li>
        <li><a href="#splitting">Splitting</a></li>
        <li><a href="#embeddings">Embeddings</a></li>
        <li><a href="#vector-stores">Vector Stores</a></li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#retrievers">Retrievers</a></li>
      </ol>
    </li>
    <li><a href="#chat-modelsÂíåpromptÊ®°Êùø">Chat ModelsÂíåPromptÊ®°Êùø</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/2024/langchain-learning/">
                <img src="/2024/langchain-learning/cover_hu_cda4d16baf3deb11.png"
                        srcset="/2024/langchain-learning/cover_hu_cda4d16baf3deb11.png 800w, /2024/langchain-learning/cover_hu_831826937215f315.png 1600w"
                        width="800" 
                        height="383" 
                        loading="lazy"
                        alt="Featured image of post Â≠¶‰π†Á¨îËÆ∞ | LangChainÂ≠¶‰π†Á¨îËÆ∞" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="background-color: #5DB9AE; color: #fff;">
                Â≠¶‰π†Êú≠ËÆ∞
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/2024/langchain-learning/">Â≠¶‰π†Á¨îËÆ∞ | LangChainÂ≠¶‰π†Á¨îËÆ∞</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-11-26</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 5 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†langchain">‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†LangChain
</h2><p>ÊàëÂ∏åÊúõËÉΩÂ§üÊûÑÂª∫‰∏Ä‰∏™ËÉΩÈòÖËØªPDFËÆ∫ÊñáÁöÑAgentÔºåÂπ∂‰∏îËÉΩÂ§üËæìÂá∫ÂØπËÆ∫Êñá‰ºòÁº∫ÁÇπÁöÑËØÑ‰ª∑„ÄÇ</p>

<div class="chat --other">
    <div class="chat__inner">
        <div class="chat__meta">ÂØºÂ∏à&nbsp;&nbsp;&nbsp;2024-10-12 14:30</div>
        <div class="chat__text">
              
ÂÅö‰∏Ä‰∏™ËÆ∫ÊñáÈòÖËØªÁöÑÂ§ßÊ®°Âûã„ÄÇ  

        </div>
    </div>
</div>


<style>
    .chat {
        margin: 10px;
        padding: 10px;
        position: relative;
         
        transition: transform 0.2s;
         
        max-width: 80%;
        min-width: 15%;
    }
    
    .chat:hover {
        transform: scale(1.05);
    }
    
    .chat.--self {
        text-align: left;
        background-color: #ecf5ff;
        color: #000000;
        border-radius: 15px;
        width: fit-content;
        margin-left: auto;
    }
     
    
    .chat.--self::before {
        content: "";
        position: absolute;
        right: -18px;
         
        bottom: 5px;
        transform: translateY(-50%);
        border-width: 15px 0 0 20px;
        border-style: solid;
        border-color: transparent transparent transparent #ecf5ff;
         
    }
     
    
    .chat.--other {
        text-align: left;
        background-color: #ffecec;
        color: #333;
        border-radius: 15px;
        position: relative;
        width: fit-content;
    }
     
    
    .chat.--other::before {
        content: "";
        position: absolute;
        left: -18px;
        bottom: 5px;
        transform: translateY(-50%);
        border-width: 15px 20px 0 0;
        border-style: solid;
        border-color: transparent #ffecec transparent transparent;
    }
     
    
    .chat__meta {
        font-weight: bold;
        font-size: 0.67em;
        color: #707070;
        margin-bottom: 5px;
    }
     
    
    .chat__text {
        font-size: 0.9em;
        margin-left: 10px;
        word-break: break-all;
    }
    
    [data-scheme="dark"] {
        .chat.--self {
            color: #fefefe;
            background-color: #253958;
        }
        .chat.--self::before {
            border-color: transparent transparent transparent #253958;
        }
        .chat.--other {
            color: #fefefe;
            background-color: #1a1a1a;
        }
        .chat.--other::before {
            border-color: transparent #1a1a1a transparent transparent;
        }
        .chat__meta {
            color: #b1b1b1;
        }
    }
</style>


<div class="chat --self">
    <div class="chat__inner">
        <div class="chat__meta" style="text-align: right;">2024-10-12 14:45&nbsp;&nbsp;&nbsp;Êàë</div>
        <div class="chat__text">
              
Â•ΩÁöÑËÄÅÂ∏à„ÄÇ  

        </div>
    </div>
</div>


<style>
    .chat {
        margin: 10px;
        padding: 10px;
        position: relative;
         
        transition: transform 0.2s;
         
        max-width: 80%;
        min-width: 15%;
    }
    
    .chat:hover {
        transform: scale(1.05);
    }
    
    .chat.--self {
        text-align: left;
        background-color: #ecf5ff;
        color: #000000;
        border-radius: 15px;
        width: fit-content;
        margin-left: auto;
    }
     
    
    .chat.--self::before {
        content: "";
        position: absolute;
        right: -18px;
         
        bottom: 5px;
        transform: translateY(-50%);
        border-width: 15px 0 0 20px;
        border-style: solid;
        border-color: transparent transparent transparent #ecf5ff;
         
    }
     
    
    .chat.--other {
        text-align: left;
        background-color: #ffecec;
        color: #333;
        border-radius: 15px;
        position: relative;
        width: fit-content;
    }
     
    
    .chat.--other::before {
        content: "";
        position: absolute;
        left: -18px;
        bottom: 5px;
        transform: translateY(-50%);
        border-width: 15px 20px 0 0;
        border-style: solid;
        border-color: transparent #ffecec transparent transparent;
    }
     
    
    .chat__meta {
        font-weight: bold;
        font-size: 0.67em;
        color: #707070;
        margin-bottom: 5px;
    }
     
    
    .chat__text {
        font-size: 0.9em;
        margin-left: 10px;
        word-break: break-all;
    }
    
    [data-scheme="dark"] {
        .chat.--self {
            color: #fefefe;
            background-color: #253958;
        }
        .chat.--self::before {
            border-color: transparent transparent transparent #253958;
        }
        .chat.--other {
            color: #fefefe;
            background-color: #1a1a1a;
        }
        .chat.--other::before {
            border-color: transparent #1a1a1a transparent transparent;
        }
        .chat__meta {
            color: #b1b1b1;
        }
    }
</style>

<p>‰ΩøÁî®LangChainÂê¨ËØ¥ÊØîËæÉÊñπ‰æø„ÄÇ</p>
<h2 id="langchainÊòØÁî®Êù•ÂÅö‰ªÄ‰πàÁöÑ">LangChainÊòØÁî®Êù•ÂÅö‰ªÄ‰πàÁöÑÔºü
</h2><p>LangChainÊòØ‰∏Ä‰∏™Áî®‰∫éÂºÄÂèëÁî±LLMÈ©±Âä®ÁöÑÂ∫îÁî®Á®ãÂ∫èÁöÑÊ°ÜÊû∂„ÄÇ‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÂèØ‰ª•ÊääLLM‰Ωú‰∏∫ÂÜÖÊ†∏ÔºåLangChain‰Ωú‰∏∫Â§ñÂ£≥ÔºåÊê≠Âª∫‰∏Ä‰∏™Á®ãÂ∫èÂá∫Êù•„ÄÇ</p>
<p>LangChainÊèê‰æõ‰∫Ü</p>
<ul>
<li>ÁªÑ‰ª∂ÔºöÂ§ÑÁêÜLLMÁöÑÁªÑ‰ª∂ÁöÑÊäΩË±°Ôºõ</li>
<li>ÂÆöÂà∂ÈìæÔºöÊääÁªÑ‰ª∂ÊãºËµ∑Êù•ÔºåÂÆûÁé∞‰∏Ä‰∏™ÁâπÂÆöÁî®‰æã„ÄÇ</li>
</ul>
<p>ÂØπ‰∫éÈòÖËØªPDFÔºåÁõÆÂâçÊúâ‰∏§‰∏™ÊÉ≥Ê≥ïÔºö</p>
<ul>
<li>Â∞ÜPDFËΩ¨‰∏∫JSONÔºåÁÑ∂ÂêéËæìÂÖ•Âà∞LLM‰∏≠Ôºõ</li>
<li>ÊûÑÂª∫RAG„ÄÇ‰ΩøÁî®LangChainËÉΩÂ§üÊØîËæÉÊñπ‰æøÂú∞ÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºåÂê¨ZLBËØ¥Ëøô‰∏™‰πü‰∏çÊòØÂæàÈöæ„ÄÇÊàë‰πãÂâçÁöÑÁïèÈöæÊÉÖÁª™ÂèØËÉΩÂ§™Èáç‰∫ÜÔºåÁé∞Âú®ÂÜô‰∏Ä‰∏™ÊñáÊ°£ÔºåÊøÄÂä±ÂíåËÆ∞ÂΩï‰∏Ä‰∏ãËá™Â∑±Â≠¶‰π†„ÄÇ</li>
</ul>
<details>
    <summary>RAGÊòØ‰ªÄ‰πàÔºü</summary>
    <p>ËôΩÁÑ∂LLMÈùûÂ∏∏Âº∫Â§ßÔºå‰ΩÜÂÆÉ‰ª¨ÂØπ‰∫éÂÆÉ‰ª¨Êú™ÁªèËÆ≠ÁªÉÁöÑ‰ø°ÊÅØ‰∏ÄÊó†ÊâÄÁü•„ÄÇÂ¶ÇÊûúÊÇ®ÊÉ≥‰ΩøÁî®LLMÊù•ÂõûÁ≠îÂÆÉÊú™ÁªèËÆ≠ÁªÉÁöÑÊñáÊ°£Áõ∏ÂÖ≥ÈóÆÈ¢òÔºåÊÇ®ÈúÄË¶ÅÂêëÂÖ∂Êèê‰æõËøô‰∫õÊñáÊ°£ÁöÑ‰ø°ÊÅØ„ÄÇÊúÄÂ∏∏Áî®ÁöÑÊñπÊ≥ïÊòØÈÄöËøá‚ÄúÊ£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàê‚ÄùÔºà retrieval augmented generationÔºåRAG Ôºâ„ÄÇ</p>
<p>Ê£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàêÁöÑÊÄùÊÉ≥ÊòØÔºåÂú®ÁªôÂÆö‰∏Ä‰∏™ÈóÆÈ¢òÊó∂ÔºåÈ¶ñÂÖàËøõË°åÊ£ÄÁ¥¢Ê≠•È™§‰ª•Ëé∑Âèñ‰ªª‰ΩïÁõ∏ÂÖ≥ÊñáÊ°£„ÄÇÁÑ∂ÂêéÂ∞ÜËøô‰∫õÊñáÊ°£‰∏éÂéüÂßãÈóÆÈ¢ò‰∏ÄËµ∑‰º†ÈÄíÁªôËØ≠Ë®ÄÊ®°ÂûãÔºåÂπ∂ËÆ©ÂÆÉÁîüÊàê‰∏Ä‰∏™ÂõûÁ≠î„ÄÇÁÑ∂ËÄåÔºå‰∏∫‰∫ÜÂÅöÂà∞Ëøô‰∏ÄÁÇπÔºåÈ¶ñÂÖàÈúÄË¶ÅÂ∞ÜÊñáÊ°£‰ª•ÈÄÇÂêàËøõË°åÊ≠§Á±ªÊü•ËØ¢ÁöÑÊ†ºÂºèÂëàÁé∞„ÄÇ</p>

</details>

<h2 id="ÊûÑÈÄ†‰∏Ä‰∏™ËØ≠‰πâÊêúÁ¥¢ÂºïÊìé">ÊûÑÈÄ†‰∏Ä‰∏™ËØ≠‰πâÊêúÁ¥¢ÂºïÊìé
</h2><blockquote>
<p><a class="link" href="https://python.langchain.com/docs/tutorials/retrievers/"  target="_blank" rel="noopener"
    >Build a semantic search engine | ü¶úÔ∏èüîó LangChain</a></p></blockquote>
<h3 id="ËØªÂèñpdf">ËØªÂèñPDF
</h3><blockquote>
<p><a class="link" href="https://python.langchain.com/docs/how_to/document_loader_pdf/"  target="_blank" rel="noopener"
    >How to load PDFs | ü¶úÔ∏èüîó LangChain</a></p></blockquote>
<p>ËøôÈáåÔºåÊñáÊ°£‰∏≠Êé®Ëçê‰ΩøÁî®‰∫ÜpypdfÂ∫ì„ÄÇËøôÈáå</p>
<p>Âú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÂèØ‰ª•‰ΩøÁî®ÂÖ∂‰ªñÊèêÂèñÊïàÊûúÊõ¥Â•ΩÁöÑÂ∫ì„ÄÇLangChainÊîØÊåÅÁöÑPDFÊ†ºÂºèÂæàÂ§öÔºåÂèØ‰ª•ÈÄâÊã©‰∏Ä‰∏ã„ÄÇ</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Document Loader</th>
          <th>Description</th>
          <th>Package/API</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/pypdfloader"  target="_blank" rel="noopener"
    >PyPDF</a></td>
          <td>Uses <code>pypdf</code> to load and parse PDFs</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/unstructured_file"  target="_blank" rel="noopener"
    >Unstructured</a></td>
          <td>Uses Unstructured&rsquo;s open source library to load PDFs</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/amazon_textract"  target="_blank" rel="noopener"
    >Amazon Textract</a></td>
          <td>Uses AWS API to load PDFs</td>
          <td>API</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/mathpix"  target="_blank" rel="noopener"
    >MathPix</a></td>
          <td>Uses MathPix to load PDFs</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/pdfplumber"  target="_blank" rel="noopener"
    >PDFPlumber</a></td>
          <td>Load PDF files using PDFPlumber</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/pypdfdirectory"  target="_blank" rel="noopener"
    >PyPDFDirectry</a></td>
          <td>Load a directory with PDF files</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/pypdfium2"  target="_blank" rel="noopener"
    >PyPDFium2</a></td>
          <td>Load PDF files using PyPDFium2</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/pymupdf"  target="_blank" rel="noopener"
    >PyMuPDF</a></td>
          <td>Load PDF files using PyMuPDF</td>
          <td>Package</td>
      </tr>
      <tr>
          <td><a class="link" href="https://python.langchain.com/docs/integrations/document_loaders/pdfminer"  target="_blank" rel="noopener"
    >PDFMiner</a></td>
          <td>Load PDF files using PDFMiner</td>
          <td>Package</td>
      </tr>
  </tbody>
</table></div>
<p>Ê≠§Â§ñÔºåÂØºÂ∏à‰πãÂâçËøòÁªôÊàëÊé®Ëçê‰∫Ü<a class="link" href="https://github.com/titipata/scipdf_parser"  target="_blank" rel="noopener"
    >titipata/scipdf_parser</a>Â∫ìÔºåËÉΩÂ§üÊõ¥Â•ΩÂú∞Â§ÑÁêÜÂõæÂÉèÂíåÊâ´ÊèèÊñáÊú¨ÔºåÂπ∂‰∏îËøêË°åÂú®docker‰∏äÔºå‰æø‰∫éÈÉ®ÁΩ≤„ÄÇ</p>
<details>
    <summary>pypdfÁöÑ‰ªãÁªç</summary>
    <blockquote>
<p><a class="link" href="https://pypdf.readthedocs.io/en/stable/index.html"  target="_blank" rel="noopener"
    >Welcome to pypdf ‚Äî pypdf 5.1.0 documentation</a></p></blockquote>
<p>PyPDF ÊòØ‰∏Ä‰∏™Áî®‰∫éÂ§ÑÁêÜ PDF Êñá‰ª∂ÁöÑ PythonÂ∫ì„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁªÑÂ∑•ÂÖ∑ÂíåÂäüËÉΩÔºåÁî®‰∫éËØªÂèñ„ÄÅËß£ÊûêÂíåÊìç‰Ωú PDF Êñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ</p>

</details>

<h3 id="splitting">Splitting
</h3><details>
    <summary>ÂéüÊñá</summary>
    <p>For both information retrieval and downstream question-answering purposes, a page may be too coarse a representation. Our goal in the end will be to retrieve <code>Document</code> objects that answer an input query, and further splitting our PDF will help ensure that the meanings of relevant portions of the document are not &ldquo;washed out&rdquo; by surrounding text.</p>
<p>We can use <a class="link" href="https://python.langchain.com/docs/concepts/text_splitters/"  target="_blank" rel="noopener"
    >text splitters</a> for this purpose. Here we will use a simple text splitter that partitions based on characters. We will split our documents into chunks of 1000 characters with 200 characters of overlap between chunks. The overlap helps mitigate the possibility of separating a statement from important context related to it. We use the <a class="link" href="https://python.langchain.com/docs/how_to/recursive_text_splitter/"  target="_blank" rel="noopener"
    >RecursiveCharacterTextSplitter</a>, which will recursively split the document using common separators like new lines until each chunk is the appropriate size. This is the recommended text splitter for generic text use cases.</p>
<p>We set <code>add_start_index=True</code> so that the character index where each split Document starts within the initial Document is preserved as metadata attribute ‚Äústart_index‚Äù.</p>
<p>See <a class="link" href="https://python.langchain.com/docs/how_to/document_loader_pdf/"  target="_blank" rel="noopener"
    >this guide</a> for more detail about working with PDFs, including how to extract text from specific sections and images.</p>

</details>

<p>ÂØπ‰∫éÈóÆÈ¢òÊèêÈóÆÁöÑÊñáÊú¨Êù•ËØ¥ÔºåÁõ¥Êé•ÂõûÁ≠î‰∏ÄÊï¥È°µËÇØÂÆöÊòØÂ§™Á≤óÁï•‰∫Ü„ÄÇÊàë‰ª¨ÊúÄÁªàÁöÑÁõÆÊ†áÊòØÊ£ÄÁ¥¢ÂõûÁ≠îËæìÂÖ•Êü•ËØ¢ÁöÑÊñáÊ°£ÂØπË±°ÔºåËøõ‰∏ÄÊ≠•ÊãÜÂàÜ PDF Â∞ÜÊúâÂä©‰∫éÁ°Æ‰øùÊñáÊ°£Áõ∏ÂÖ≥ÈÉ®ÂàÜÁöÑÂê´‰πâ‰∏ç‰ºöË¢´Âë®Âõ¥ÁöÑÊñáÊú¨‚ÄúÂÜ≤Ê∑°‚Äù„ÄÇ</p>
<p>ÊâÄ‰ª•Êé•‰∏ãÊù•Â∫îËØ•Áî®ÊñáÊú¨ÂàÜÂâ≤Âô®Êù•ËøõË°åÂàÜÂâ≤ÔºàSplittingÔºâÂ§ÑÁêÜ„ÄÇËøôÈáåÁî®‰∏Ä‰∏™<code>RecursiveCharacterTextSplitter</code>ËøõË°åÂàÜÂâ≤„ÄÇËøôÈáå‰ΩøÁî®Â∏∏ËßÅÂàÜÈöîÁ¨¶Êù•ÂØπÊñáÊ°£ËøõË°åÂàÜÂâ≤ÔºåÈÄÇÁî®‰∫é‰∏ÄËà¨ÁöÑÊñáÊú¨„ÄÇ</p>

<div class="notice notice-warning" >
    <div class="notice-title"><svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 576 512"¬†fill="#704343"><path d="M570 440c18 32-5 72-42 72H48c-37 0-60-40-42-72L246 24c19-32 65-32 84 0l240 416zm-282-86a46 46 0 100 92 46 46 0 000-92zm-44-165l8 136c0 6 5 11 12 11h48c7 0 12-5 12-11l8-136c0-7-5-13-12-13h-64c-7 0-12 6-12 13z"/></svg></div><p>‰ΩøÁî®<code>RecursiveCharacterTextSplitter</code>Êó†Ê≥ïËØªÂèñÂõæÂÉèÊàñÁâπÂÆöÂå∫ÂüüÁöÑÊñáÊú¨„ÄÇ</p></div>

<h3 id="embeddings">Embeddings
</h3><p>Êé•‰∏ãÊù•Â∞ÜÊñáÊú¨ÂµåÂÖ•Âà∞ÂêëÈáè‰∏≠ÂéªÔºå‰æø‰∫éËøõË°åÁõ∏‰ººÂ∫¶ÊåáÊ†áÊù•ËØÜÂà´Áõ∏ÂÖ≥ÊñáÊú¨„ÄÇ</p>
<p>ËøôÈáåLangChainÊîØÊåÅÊï∞ÂçÅÁßçEmbeddingsÊñπÊ≥ï„ÄÇËøôÈáåÊàëÈÄâÊã©‰∫Ü‰ΩøÁî®Hugging FaceÔºåÂèØ‰ª•ÈÄâÊã©Â∞ÜÊ®°Âûã‰∏ãËΩΩËá≥Êú¨Âú∞ÊàñËÄÖ‰ΩøÁî®<code>Hugging Face Inference API</code>Êù•Ë∞ÉÁî®Êé•Âè£„ÄÇËøôÈáåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®<code>HuggingFaceEmbeddings</code>Êù•ËøõË°åÂ§ÑÁêÜ„ÄÇÈùûÂ∏∏Êñπ‰æø„ÄÇ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain_huggingface</span> <span class="kn">import</span> <span class="n">HuggingFaceEmbeddings</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">embeddings_model</span> <span class="o">=</span> <span class="n">HuggingFaceEmbeddings</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&#34;sentence-transformers/all-mpnet-base-v2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">embeddings</span> <span class="o">=</span> <span class="n">embeddings_model</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">vector_1</span> <span class="o">=</span> <span class="n">embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">all_splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">page_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">vector_2</span> <span class="o">=</span> <span class="n">embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="n">all_splits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">page_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">vector_1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">vector_2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Generated vectors of length </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">vector_1</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">vector_1</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</span></span></code></pre></div><h3 id="vector-stores">Vector Stores
</h3><p>LangChainÁöÑVector StoresÂØπË±°ÂåÖÊã¨‰∫Ü‰∏Ä‰∫õÊääÊñáÊú¨ÂíåDocumentÂØπË±°Âä†ÂÖ•Âà∞Stores‰∏≠ÁöÑÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöËøáÁõ∏‰ººÊÄßËøõË°å‰∏Ä‰∏™ÊéíÂàó„ÄÇ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain_core.vectorstores</span> <span class="kn">import</span> <span class="n">InMemoryVectorStore</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">vector_store</span> <span class="o">=</span> <span class="n">InMemoryVectorStore</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ids</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">add_documents</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span><span class="n">all_splits</span><span class="p">)</span>
</span></span></code></pre></div><p>Ê≠§Êó∂Â∞±ÂÆåÊàê‰∫ÜÂ≠òÂÇ®ÂíåÊéíÂàó„ÄÇ</p>
<p>ËøôÈáåÂêëÈáèÂ≠òÂÇ®‰∏ÄËà¨Êù•ËØ¥ÊòØÂèØ‰ª•ËøûÊé•Âà∞Áé∞ÊúâÁöÑVector Stores‰∏≠ÁöÑ„ÄÇ</p>
<h3 id="usage">Usage
</h3><ol>
<li>Êü•ËØ¢ÂíåËøôÂè•ËØùÁõ∏‰ººÁöÑÂè•Â≠ê</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Diffusion is a image generation method.&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span></code></pre></div><ol start="2">
<li>ÂºÇÊ≠•Êü•ËØ¢ÔºàÁî®‰∫éÊµÅÁ®ãÊéßÂà∂Ôºâ</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">asimilarity_search</span><span class="p">(</span><span class="s2">&#34;What is diffusion?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span></code></pre></div><ol start="3">
<li>ËøîÂõûÂàÜÊï∞</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Note that providers implement different scores; </span>
</span></span><span class="line"><span class="cl"><span class="c1"># the score here is a distance metric that varies inversely with similarity.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search_with_score</span><span class="p">(</span><span class="s2">&#34;What is Diffusion?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">doc</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Score: </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</span></span></code></pre></div><ol start="4">
<li>ÈÄöËøáÂíåembedded queryÁöÑÁõ∏‰ººÂ∫¶ËøõË°åÊü•ËØ¢</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">embedding</span> <span class="o">=</span> <span class="n">embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">(</span><span class="s2">&#34;What is diffusion&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">results</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search_by_vector</span><span class="p">(</span><span class="n">embedding</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span></code></pre></div><h3 id="retrievers">Retrievers
</h3><p>Ê£ÄÁ¥¢Âô®ÔºàRetrieverÔºâÂèØ‰ª•‰ªéÂêëÈáèÂ≠òÂÇ®‰∏≠ËøõË°åÊûÑÂª∫Ôºå‰ΩÜÊòØ‰πüÂèØ‰ª•ÂíåÈùûÂêëÈáèÂΩ¢ÂºèËøõË°å‰∫§‰∫í„ÄÇÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÊûÑÂª∫‰∏Ä‰∏™ËÉΩÂ§üÊ£ÄÁ¥¢ÊñáÊ°£ÁöÑÊñπÊ≥ïÁöÑËØùÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™runnableÁöÑÊ£ÄÁ¥¢Âô®„ÄÇ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain_core.documents</span> <span class="kn">import</span> <span class="n">Document</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain_core.runnables</span> <span class="kn">import</span> <span class="n">chain</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@chain</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">retriever</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Document</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">retriever</span><span class="o">.</span><span class="n">batch</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;What is diffusion?&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;What is forward process?&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>Ëá≥Ê≠§ÔºåÊàë‰ª¨ÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ËÉΩÂ§üËØªÂ§öÁØáPDFÊñáÁ´†ÁöÑ„ÄÅËÉΩÂ§üÂØπPDFÊñáÁ´†ËøõË°åÊü•ËØ¢ÁöÑËØ≠‰πâÊêúÁ¥¢ÂºïÊìé„ÄÇ</p>
<h2 id="chat-modelsÂíåpromptÊ®°Êùø">Chat ModelsÂíåPromptÊ®°Êùø
</h2><p>ËøôÈáåÈÄöËøáVllmÂêØÂä®LLMÔºå‰ª•Qwen2.5-7B-InstructÊ®°Âûã‰∏∫‰æã„ÄÇ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain_community.llms</span> <span class="kn">import</span> <span class="n">VLLM</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">llm</span> <span class="o">=</span> <span class="n">VLLM</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&#34;/home/ubuntu/jjq/Qwen/Qwen2.5-7B-Instruct/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">trust_remote_code</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">           <span class="n">max_new_tokens</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">top_k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">top_p</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">temperature</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="n">max_model_len</span> <span class="o">=</span> <span class="mi">30000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">llm</span><span class="p">(</span><span class="s2">&#34;What is the capital of France ?&#34;</span><span class="p">))</span>
</span></span></code></pre></div><p>Êé•‰∏ãÊù•ËÆæËÆ°PromptÊ®°Êùø„ÄÇ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain</span> <span class="kn">import</span> <span class="n">LLMChain</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">PromptTemplate</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain.memory</span> <span class="kn">import</span> <span class="n">ConversationBufferMemory</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">ConversationalRetrievalChain</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">langchain.prompts.chat</span> <span class="kn">import</span> <span class="n">ChatPromptTemplate</span><span class="p">,</span> <span class="n">SystemMessagePromptTemplate</span><span class="p">,</span> <span class="n">HumanMessagePromptTemplate</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">        „Äê‰ªªÂä°ÊèèËø∞„Äë
</span></span></span><span class="line"><span class="cl"><span class="s1">        ËØ∑‰ªîÁªÜÈòÖËØªËÆ∫ÊñáÔºåÂõûÁ≠îÁî®Êà∑ÁªôÂá∫ÁöÑÈóÆÈ¢òÔºåÂ∞ΩÈáèÂÖ∑ÊúâÊâπÂà§ÊÄß„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        „ÄêËÆ∫Êñá„Äë
</span></span></span><span class="line"><span class="cl"><span class="s1">        {{context}}
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        -----------
</span></span></span><span class="line"><span class="cl"><span class="s1">        </span><span class="si">{question}</span><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">        &#39;&#39;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ê£ÄÁ¥¢Âô®</span>
</span></span><span class="line"><span class="cl"><span class="n">retriever</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ËÆ∞ÂøÜ</span>
</span></span><span class="line"><span class="cl"><span class="n">memory</span> <span class="o">=</span> <span class="n">ConversationBufferMemory</span><span class="p">(</span><span class="n">memory_key</span><span class="o">=</span><span class="s2">&#34;chat_history&#34;</span><span class="p">,</span> <span class="n">return_messages</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊûÑÂª∫Agent</span>
</span></span><span class="line"><span class="cl"><span class="n">qa</span> <span class="o">=</span> <span class="n">ConversationalRetrievalChain</span><span class="o">.</span><span class="n">from_llm</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">retriever</span><span class="p">,</span> <span class="n">memory</span><span class="o">=</span><span class="n">memory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">qa</span><span class="p">({</span><span class="s2">&#34;question&#34;</span><span class="p">:</span> <span class="s2">&#34;ËÉΩ‰∏çËÉΩÁî®‰∏≠ÊñáÁªôÂá∫ËÆ∫ÊñáÁöÑ‰ºòÂäøÊàñËÄÖÂâçÊôØÔºü&#34;</span><span class="p">})</span>
</span></span></code></pre></div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/langchain/">LangChain</a>
        
            <a href="/tags/llm/">LLM</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>All rights reserved.</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.body, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    


<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/2025/speech-and-language-processing/">
        
        

        <div class="article-details">
            <h2 class="article-title">‰π¶Á±çÈòÖËØª | Speech and Language Processing</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/2025/rbdr/">
        
        

        <div class="article-details">
            <h2 class="article-title">AIDR | Reasoning-based Drug Repurposing</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/2025/aidr-network-method/">
        
        

        <div class="article-details">
            <h2 class="article-title">AIDR | Âü∫‰∫éÁΩëÁªúÁöÑÊñπÊ≥ï</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 ionfeather&#39;Log
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


<script>
    (function(u, c) {
      var d = document, t = 'script', o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function(e) { c(e); }); }
      s.parentNode.insertBefore(o, s);
    })('//cdn.bootcss.com/pangu/3.3.0/pangu.min.js', function() {
      pangu.spacingPage();
    });
</script>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script src="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.css" crossorigin="anonymous" />
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>


    </body>
</html>
